; Warning: Do not edit the config file directly, those changes will be
; overwritten. Edit the ##yadm.j2 file instead. See yadm docs for more info.
;==========================================================
;
;
;   ██████╗  ██████╗ ██╗  ██╗   ██╗██████╗  █████╗ ██████╗
;   ██╔══██╗██╔═══██╗██║  ╚██╗ ██╔╝██╔══██╗██╔══██╗██╔══██╗
;   ██████╔╝██║   ██║██║   ╚████╔╝ ██████╔╝███████║██████╔╝
;   ██╔═══╝ ██║   ██║██║    ╚██╔╝  ██╔══██╗██╔══██║██╔══██╗
;   ██║     ╚██████╔╝███████╗██║   ██████╔╝██║  ██║██║  ██║
;   ╚═╝      ╚═════╝ ╚══════╝╚═╝   ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝
;
;
;   To learn more about how to configure Polybar
;   go to https://github.com/jaagr/polybar
;
;   The README contains alot of information
;
;==========================================================

[colors]

# railscasts dark theme
black     = #1d1f21
darkgrey  = #969896
lightgrey = #c5c8c6
red       = #cc6666
green     = #b5bd68
yellow    = #f0c674
blue      = #81a2be
violet    = #b294bb
cyan      = #8abeb7
purewhite = #ffffff

# Utils
light-trans = #44000000
dark-trans = #cc1d1f21
full-trans = #00000000

foreground = ${colors.lightgrey}
background = ${colors.dark-trans}

[bar/taskbar]

background = ${colors.full-trans}
foreground = ${colors.lightgrey}

; Gaps are achieved by transparent border
border-color = ${colors.full-trans}
bottom = true
border-size = 5
border-top-size = 0

{% if YADM_CLASS == 'laptop' %}
font-0 = DejaVu Sans:size=18;3
font-1 = Hack Nerd Font Mono:size=18;3
font-2 = mplus Nerd Font Mono:size=18;3
font-3 = NotoEmoji Nerd Font Mono:size=18;3

height = 45
{% else %}
font-0 = DejaVu Sans:size=11;3
font-1 = Hack Nerd Font Mono:size=11;3
font-2 = mplus Nerd Font Mono:size=11;3
font-3 = NotoEmoji Nerd Font Mono:size=11;3

height = 25
{% endif %}

line-size = 2
module-margin = 1

;content

tray-position = none
tray-background = ${root.background}

{% if YADM_CLASS == 'desktop' %}
modules-left = i3 logout-button
modules-right = pulseaudio keyboard date time 
{% else %}
modules-left = i3
modules-right = network battery backlight pulseaudio keyboard date time 
{% endif %}

[module/jgmenu]
type = custom/text
content-padding = 2
content = 
click-left = "jgmenu_run > /dev/null 2>&1 &"

content-foreground = ${colors.green}
content-background = ${colors.background}
content-font = 2

[module/i3]
type = internal/i3

label-focused-foreground = ${colors.blue}
label-focused-underline = ${colors.yellow}
label-focused-background = ${colors.background}
label-focused-padding-right = 2
label-focused-padding-left = 1

label-unfocused-foreground = ${colors.foreground}
label-unfocused-background = ${colors.light-trans}
label-unfocused-padding-right = 2
label-unfocused-padding-left = 1

label-urgent-underline = ${colors.red}

label-separator = " "
label-separator-padding = 0

label-mode-background = ${colors.red}
label-mode-foreground = ${colors.purewhite}
label-mode-padding = 2

[module/date]
type = internal/date

date = %A, %B %e

format-suffix = "📅" 
format-suffix-foreground = ${colors.violet}
format-suffix-padding-left = 2
label =  %date%

format-background = ${colors.dark-trans}
format-foreground = ${colors.foreground}
format-padding = 2
label-font = 2

format-underline = ${colors.lightgrey}

[module/time]
type = internal/date

time = %H:%M


format-suffix = "🕑" 
format-suffix-foreground = ${colors.violet}
format-suffix-padding-left = 2
label =  %time%
label-font = 2

format-background = ${colors.dark-trans}
format-foreground = ${colors.foreground}
format-underline = ${colors.lightgrey}
format-padding = 2

[module/pulseaudio]
type = internal/pulseaudio
sink = alsa_output.pci-0000_0d_00.3.analog-stereo
use-ui-max = true

label-muted = 0%
format-muted-suffix = "🔇"
format-muted-suffix-foreground = ${colors.blue}
format-muted-suffix-background = ${colors.background}
format-muted-suffix-padding = 1
label-muted-background = ${colors.background}
label-muted-foreground = ${colors.darkgrey}
label-muted-padding-left = 2
label-muted-font = 2

format-volume-suffix = "🔈"
format-volume-suffix-foreground = ${colors.yellow}
format-volume-suffix-background = ${colors.background}
format-volume-suffix-padding = 1
label-volume = %percentage%%
label-volume-background = ${colors.background}
label-volume-foreground = ${colors.foreground}
label-volume-padding = 0
label-volume-padding-left = 2
label-volume-font = 2

label-volume-underline = ${colors.violet}
format-volume-suffix-underline = ${colors.violet}

label-muted-underline = ${colors.red}
format-muted-suffix-underline = ${colors.red}

[module/keyboard]
type = internal/xkeyboard

blacklist-0 = num lock
blacklist-1 = scroll lock

format-underline = ${colors.lightgrey}
format-padding = 2
format-background = ${colors.background}
format-foreground = ${colors.foreground}

format-suffix = ⌨
format-suffix-padding-left = 2
format-suffix-foreground = ${colors.violet}

label-layout = %name%

label-font = 2

[module/logout-button]

type = custom/text
content = 
content-underline = ${colors.lightgrey}
content-background = ${colors.background}
content-foreground = ${colors.red}
content-padding = 2
click-left = dm-tool switch-to-greeter

[module/network]
type = internal/network
{% if YADM_HOSTNAME == 'caroline' %}
interface = wlp1s0
{% elif YADM_HOSTNAME == 'charybdis' %}
interface = wlp2s0f0u3
unknown-as-up = true
{% endif %}
interval = 0.3

; Test connectivity every Nth update
; A value of 0 disables the feature
; NOTE: Experimental (needs more testing)
; Default: 0
ping-interval = 30

format-connected-background = ${colors.background}
format-disconnected-background = ${colors.background}
format-packetloss-background = ${colors.background}

format-connected-underline = ${colors.green}
format-disconnected-underline = ${colors.lightgrey}
format-packetloss-underline = ${colors.red}

format-connected-padding = 2
format-disconnected-padding = 2
format-packetloss-padding = 2

label-connected-foreground = ${colors.foreground}
label-disconnected-foreground = ${colors.foreground}
label-packetloss-foreground = ${colors.foreground}
ramp-signal-foreground = ${colors.foreground}

format-connected = <label-connected> · <ramp-signal>
format-connected-suffix = 直
format-connected-suffix-padding-left = 2
format-connected-suffix-foreground = ${colors.green}
label-connected = %downspeed:9%

format-disconnected = <label-disconnected>
format-disconnected-suffix = 睊
format-disconnected-suffix-padding-left = 2
format-disconnected-suffix-foreground = ${colors.red}
label-disconnected = --

format-packetloss = <label-connected>·<animation-packetloss>
format-packetloss-suffix = 直
format-packetloss-suffix-padding-left = 2
format-packetloss-suffix-foreground = ${colors.yellow}

; Only applies if <ramp-signal> is used
ramp-signal-0 = 0%
ramp-signal-1 = 10%
ramp-signal-2 = 20%
ramp-signal-3 = 30%
ramp-signal-4 = 40%
ramp-signal-6 = 50%
ramp-signal-7 = 60%
ramp-signal-8 = 70%
ramp-signal-9 = 80%
ramp-signal-10 = 90%

; Only applies if <animation-packetloss> is used
animation-packetloss-0 = ⚠
animation-packetloss-0-foreground = ${colors.red}
animation-packetloss-1 = 📶
animation-packetloss-1-foreground = ${colors.red}
; Framerate in milliseconds
animation-packetloss-framerate = 200

{% if YADM_CLASS == 'laptop' %}

[module/backlight]
type = internal/xbacklight

format = <label><ramp>

label = %percentage%%

; Only applies if <ramp> is used
ramp-0 = 🌕
ramp-1 = 🌔
ramp-2 = 🌓
ramp-3 = 🌒
ramp-4 = 🌑

ramp-foreground = ${colors.yellow}
ramp-padding-left = 2
label-font = 2

format-background = ${colors.dark-trans}
format-foreground = ${colors.foreground}
format-underline = ${colors.lightgrey}
format-padding = 2

[module/battery]
type = internal/battery

ramp-capacity-foreground = ${colors.blue}
ramp-capacity-padding-left = 2
label-font = 2

animation-charging-foreground = ${colors.blue}
animation-charging-padding-left = 2
animation-charging-font = 2

format-discharging-background = ${colors.dark-trans}
format-discharging-foreground = ${colors.foreground}
format-discharging-underline = ${colors.blue}
format-discharging-padding = 2

format-charging-background = ${colors.dark-trans}
format-charging-foreground = ${colors.foreground}
format-charging-padding = 2
format-charging-underline = ${colors.blue}

format-full-background = ${colors.dark-trans}
format-full-foreground = ${colors.foreground}
format-full-padding = 2
format-full-underline = ${colors.green}

battery = BAT0
adapter = AC
poll-interval = 60
time-format = %l:%M · 

format-charging = <label-charging><animation-charging>
format-discharging = <label-discharging><ramp-capacity>

; Available tags:
;   <label-full> (default)
;   <bar-capacity>
;   <ramp-capacity>
format-full = <label-full>

label-charging = %time% %percentage%%
label-discharging = %time% %percentage%%

; Available tokens:
;   %percentage% (default) - is set to 100 if full-at is reached
;   %percentage_raw% (unreleased)
label-full = %percentage%% 

ramp-capacity-0 = 
ramp-capacity-1 = 
ramp-capacity-2 = 
ramp-capacity-3 = 
ramp-capacity-4 = 
ramp-capacity-5 = 
ramp-capacity-6 = 
ramp-capacity-7 = 
ramp-capacity-8 = 
ramp-capacity-9 = 
ramp-capacity-10 = 

animation-charging-0 = 
animation-charging-1 = 
animation-charging-2 = 
animation-charging-3 = 
animation-charging-4 = 
animation-charging-5 = 
animation-charging-6 = 
animation-charging-7 = 
animation-charging-8 = 
animation-charging-9 = 
animation-charging-10 = 
animation-charging-11 = 
animation-charging-framerate = 200

{% endif %}

